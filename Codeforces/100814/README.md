# ACM International Collegiate Programming Contest, Egyptian Collegiate Programming Contest (ECPC 2015)


## Arcade Game

给一个排列，等概率变成同样数字的另一种排列，如果变得比原来小就失败，只有最后变成所有排列里最大的那个才胜利，问胜利的概率。

找有多少个排列比原数大，剩下就等比数列求和。

## Unlucky Teacher

忘记了选择题的答案，问能否在已知某些题某些选项正确与否的情况下得到这题的正确答案。保证没有矛盾。

直接模拟。

## City of Stars

两个操作，给图上的结点连边，询问什么时候连的边。

连边的时候新建一个节点，原来的两个点的根作为这个点的一对儿子连到新点上。每个节点保存一下什么时候被建立的。

查询的时候找LCA就可以了。

## Frozen Rivers

冰从根节点开始融化，先按照1单位长度每时间融化，融化了一个孩子之后，其它孩子的速度减小为.5单位长度每时间，询问到某个时间的时候有多少叶子融化了。

首先算出每个节点到每个孩子融化的时间，将融化时间作为边权跑一次广搜，预处理出融化每个叶子所费的时间，每次询问二分查询多少叶子已经融化。

## Palmyra

在一个矩阵中从左上到右下，只能往右或者下走，求所有路径中路径上每个数乘积中含有6的幂次因子最大的幂次。

考虑如果不是6，而是一个素数的情况，就是一个从左或者上转移简单的DP，只需要求哪条路径上含有这个因子最多。

6有两个不同的因子，所以需要另外记录当其中一个因子数量为k的时候另一个因子的数量，转移的时候要注意，需要被转移的值存在才能转移到当前的，最后统计因子中较小值的最大值。

## Geometry

不予评论。

## It is all about wisdom

经过每条路有一个费用，而且有一个最低智商的要求。问花费最多为K的时候，最少需要多少智商才能从1走到N。

二分智商跑最短路。

## Salem

给出一个长为N的数列，求每两个数字之间二进制位有多少个不相同的。

因为数据范围比较小所以可以直接暴力水过。数据范围大一点可以考虑线段树或者01Trie。

## Game

两人轮流进行一种操作，可以把一串字符串按照给定的替换表相邻两两替换成替换表上的字母，如果是奇数长度，可以选择最左侧的不参与或者最右侧的不参与，如果最后得到的单个字符是元音字符则A胜利，否则B胜利。

这种看似博弈实际上不是sg博弈的，通常都是爆搜。

## PhD Math

求a/b小数点后n位里有多少个子串表示的十进制数字可以被p整除。

简单DP，`dp[i][j]`记录小数点后第i位模p余j的数量，对于小数点后的每一位，记录一下从第一位开始的十进制数字模p余多少，加上之前所有的出现过的模p余这个数，也就是`dp[i][j]`，然后这里加一，再转移到下一位的时候，`dp[i][j]`应当全部转移到`dp[i+1][j*10%p]`。

## Candy Jars

博弈论，每次选择一个袋子，抛弃其余所有袋子的糖果，然后将选择的袋子的糖果分配到所有袋子里，每个袋子至少要有一颗糖果。

找规律，结果发现是一段有一段没有，具体见代码。
