# Stone Game

往多个容量 s 不同, 初始石子数量 c 不同的包裹里装石子, 装石子的规则是只能装 1~包裹里已有石子数量的平方范围内的石子. 不能动算败.

袋子之间相互独立, 明显状态是初始石子和容量二维的, 数据范围太大不允许求出 SG 并记忆化.

打表找规律. 按 s 打表列出必败点的 c 可以发现

* 对于任意 s 点, c=0 和 c=s 为必败点.
* 对于任意一个必败点 c0, 若存在 c(c+1)\<c0 && (c+1)(c+2)\>=c0 则 c 为另一个必败点
* 对于两个必败点之间的 SG 函数值逐一递减.

依此可以求出任何状态的 SG 值.

我的代码是预处理出所有的边界, 二分查找下一个必败点. 对于状态 (S, C), 最坏复杂度是 O(log 1000 log S).
